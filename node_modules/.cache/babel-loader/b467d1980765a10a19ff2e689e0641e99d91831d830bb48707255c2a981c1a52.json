{"ast":null,"code":"import _regeneratorRuntime from\"/Users/a0000/Desktop/crypto/cryptocurrency-price-tracker/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/a0000/Desktop/crypto/cryptocurrency-price-tracker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/a0000/Desktop/crypto/cryptocurrency-price-tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{Bar,Doughnut,Line}from\"react-chartjs-2\";import{candlestickData}from\"./source\";import{Chart as ChartJs}from\"chart.js/auto\";import{CircularProgress,LinearProgress}from\"@mui/material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Chart=function Chart(_ref){var _ref2;var selectedId=_ref.selectedId;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),chartData=_useState2[0],setChartData=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),days=_useState4[0],setDays=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var url=\"https://api.coingecko.com/api/v3/coins/\".concat(selectedId,\"/market_chart?vs_currency=usd&days=\").concat(days);var fetchChart=function fetchChart(){return(_ref2=_ref2||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return axios.get(url);case 4:_yield$axios$get=_context.sent;data=_yield$axios$get.data;console.log(\"this si data:\",data);setChartData(data.prices);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);// Handle the error here\nconsole.error(\"Error fetching data:\",_context.t0);case 13:_context.prev=13;setLoading(false);return _context.finish(13);case 16:case\"end\":return _context.stop();}},_callee,null,[[1,10,13,16]]);}))).apply(this,arguments);};var daysData=[{value:1,text:\"1 Hour\"},{value:24,text:\"1 Day\"},{value:168,text:\"7 Days\"},{value:720,text:\"1 Month\"}];// console.log(\"selectedId:\", selectedId);\nconsole.log(\"this is real prices array \",chartData);useEffect(function(){fetchChart();},[days,selectedId]);var kazungu=chartData===null||chartData===void 0?void 0:chartData.map(function(coin){var date=new Date(coin[0]);var time=date.getHours()>12?\"\".concat(date.getHours()-12,\":\").concat(date.getMinutes(),\" PM\"):\"\".concat(date.getHours(),\":\").concat(date.getMinutes(),\" AM\");return days===1?time:date;});console.log(\"here is kaxung dat:\",kazungu);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{margin:\"20px\",width:\"100%ß\"},children:chartData?/*#__PURE__*/_jsx(Line,{data:{labels:chartData.map(function(coin){var date=new Date(coin[0]);var time=date.getHours()>12?\"\".concat(date.getHours()-12,\":\").concat(date.getMinutes(),\" PM\"):\"\".concat(date.getHours(),\":\").concat(date.getMinutes(),\" AM\");return days===1?time:date.toLocaleDateString();}),datasets:[{label:\"Price\",data:chartData.map(function(coin){return coin[1];}),borderColor:\"blue\",borderWidth:2,fill:false}]},options:{elements:{point:{radius:1}}}}):/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(CircularProgress,{})})}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"space-around\"},children:daysData.map(function(day){return/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setDays(day.value);},style:{backgroundColor:days===day.value?\"blue\":\"transparent\",color:days===day.value?\"white\":\"black\",border:\"none\",padding:\"10px\",borderRadius:\"5px\",boxShadow:\"1px 1px 4px rgba(0,0,0,0.3)\"},children:day.text},day.value);})})]});};export default Chart;","map":{"version":3,"names":["axios","React","useEffect","useState","Bar","Doughnut","Line","candlestickData","Chart","ChartJs","CircularProgress","LinearProgress","jsx","_jsx","jsxs","_jsxs","_ref","_ref2","selectedId","_useState","_useState2","_slicedToArray","chartData","setChartData","_useState3","_useState4","days","setDays","_useState5","_useState6","loading","setLoading","url","concat","fetchChart","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_callee$","_context","prev","next","get","sent","console","log","prices","t0","error","finish","stop","apply","arguments","daysData","value","text","kazungu","map","coin","date","Date","time","getHours","getMinutes","children","style","margin","width","labels","toLocaleDateString","datasets","label","borderColor","borderWidth","fill","options","elements","point","radius","display","justifyContent","day","onClick","backgroundColor","color","border","padding","borderRadius","boxShadow"],"sources":["/Users/a0000/Desktop/crypto/cryptocurrency-price-tracker/src/component/ChartComp.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Bar, Doughnut, Line } from \"react-chartjs-2\";\nimport { candlestickData } from \"./source\";\nimport { Chart as ChartJs } from \"chart.js/auto\";\nimport { CircularProgress, LinearProgress } from \"@mui/material\";\n\nconst Chart = ({ selectedId }) => {\n  const [chartData, setChartData] = useState([]);\n  const [days, setDays] = useState(1);\n  const [loading, setLoading] = useState(false);\n\n  const url = `https://api.coingecko.com/api/v3/coins/${selectedId}/market_chart?vs_currency=usd&days=${days}`;\n\n  const fetchChart = async () => {\n    setLoading(true);\n    try {\n      const { data } = await axios.get(url);\n      console.log(\"this si data:\", data);\n      setChartData(data.prices);\n    } catch (error) {\n      // Handle the error here\n      console.error(\"Error fetching data:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const daysData = [\n    {\n      value: 1,\n      text: \"1 Hour\",\n    },\n    {\n      value: 24,\n      text: \"1 Day\",\n    },\n    {\n      value: 168,\n      text: \"7 Days\",\n    },\n    {\n      value: 720,\n      text: \"1 Month\",\n    },\n  ];\n\n  // console.log(\"selectedId:\", selectedId);\n  console.log(\"this is real prices array \", chartData);\n\n  useEffect(() => {\n    fetchChart();\n  }, [days, selectedId]);\n\n  const kazungu = chartData?.map((coin) => {\n    let date = new Date(coin[0]);\n    let time =\n      date.getHours() > 12\n        ? `${date.getHours() - 12}:${date.getMinutes()} PM`\n        : `${date.getHours()}:${date.getMinutes()} AM`;\n\n    return days === 1 ? time : date;\n  });\n\n  console.log(\"here is kaxung dat:\", kazungu);\n\n  return (\n    <div>\n      <div\n        style={{\n          margin: \"20px\",\n          width: \"100%ß\",\n        }}\n      >\n        {chartData ? (\n          <Line\n            data={{\n              labels: chartData.map((coin) => {\n                let date = new Date(coin[0]);\n                let time =\n                  date.getHours() > 12\n                    ? `${date.getHours() - 12}:${date.getMinutes()} PM`\n                    : `${date.getHours()}:${date.getMinutes()} AM`;\n\n                return days === 1 ? time : date.toLocaleDateString();\n              }),\n              datasets: [\n                {\n                  label: \"Price\",\n                  data: chartData.map((coin) => coin[1]),\n                  borderColor: \"blue\",\n                  borderWidth: 2,\n                  fill: false,\n                },\n              ],\n            }}\n            options={{\n              elements: {\n                point: {\n                  radius: 1,\n                },\n              },\n            }}\n          />\n        ) : (\n          <p>\n            <CircularProgress />\n          </p>\n        )}\n      </div>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-around\",\n        }}\n      >\n        {daysData.map((day) => (\n          <button\n            key={day.value}\n            onClick={() => setDays(day.value)}\n            style={{\n              backgroundColor: days === day.value ? \"blue\" : \"transparent\",\n              color: days === day.value ? \"white\" : \"black\",\n              border: \"none\",\n              padding: \"10px\",\n              borderRadius: \"5px\",\n              boxShadow: \"1px 1px 4px rgba(0,0,0,0.3)\",\n            }}\n          >\n            {day.text}\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Chart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}